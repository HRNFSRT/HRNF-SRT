<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Highrock National Forest Search & Rescue</title>
    <link rel="stylesheet" href="styles.css">
<!-- Firebase Integration -->
<script type="module">
    // Import Firebase functions from the CDN
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.0/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.6.0/firebase-auth.js";

    // Firebase Configuration
    const firebaseConfig = {
        apiKey: "AIzaSyCCz1kIH5hT_15pWT9rf5JqJhexK76qpRE",
        authDomain: "hrnf-srt.firebaseapp.com",
        projectId: "hrnf-srt",
        storageBucket: "hrnf-srt.appspot.com",
        messagingSenderId: "748926279394",
        appId: "1:748926279394:web:1303b9000361b1d51808bb",
        measurementId: "G-5PCZE3S5N5"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app); // Initialize Auth

    // Check if user is authenticated
    onAuthStateChanged(auth, user => {
        if (!user) {
            window.location.href = 'login.html'; // Redirect if not logged in
        }
    });

    // Logout Function
    window.logout = function() {
        signOut(auth).then(() => {
            window.location.href = '/index.html'; // Redirect after logout
        }).catch((error) => {
            console.error("Logout error:", error); // Handle errors if necessary
        });
    };
</script>

</head>
<body>

<!-- Header Section -->
<header>
    <div class="header-content">
        <div class="logo">
            <img src="/images/logo.png" alt="Highrock National Forest Search & Rescue Logo" width="90">
        </div>
        <div class="header-text">
            <h1>Highrock National Forest Search & Rescue Team</h1>
            <p>Saving Lives 365 Days a Year</p>
        </div>
        <!-- Logout Button -->
        <button onclick="logout()" class="logout-btn">Logout</button>
    </div>
</header>

<!-- Member Profile Section -->
<div class="profile-section">
    <div class="profile-picture">
        <img src="/images/profile.png" alt="Member Picture" width="100">
    </div>
    <div class="profile-info">
        <h2>John Doe</h2>
        <p>Rank: Team Leader</p>
        <p>Role: Rescue Technician</p>
        <p>Active Calls: 2</p>
    </div>
</div>

<!-- Dashboard Features Section -->
<div class="dashboard-container">
    <div class="feature-box" onclick="window.location.href='handbook.html';">
        <h3>Handbook</h3>
        <p>Access the comprehensive handbook with guidelines and protocols.</p>
    </div>
    <div class="feature-box" onclick="window.location.href='cad.html';">
        <h3>Computer Aided Dispatch</h3>
        <p>Manage and track calls efficiently with our dispatch system.</p>
    </div>
    <div class="feature-box" onclick="window.location.href='aar.html';">
        <h3>After Action Reports</h3>
        <p>Submit and review after action reports for incidents.</p>
    </div>
    <div class="feature-box" onclick="window.location.href='shift_rotas.html';">
        <h3>Shift Rotas</h3>
        <p>Manage and view shift assignments for team members.</p>
    </div>
    <div class="feature-box" onclick="window.location.href='vehicles_equipment.html';">
        <h3>Vehicles and Equipment</h3>
        <p>Track vehicles and equipment status for operations.</p>
    </div>
    <div class="feature-box" onclick="window.location.href='ics.html';">
        <h3>ICS Section</h3>
        <p>Monitor and track resources during calls and activities.</p>
    </div>
</div>

<!-- Footer Section -->
<footer>
    <p>&copy; 2024 Highrock National Forest Search & Rescue Team. All rights reserved.</p>
</footer>

</body>
</html>
